function PrayTimes(a){var l,m,n,o,p,b={imsak:"Imsak",fajr:"Fajr",sunrise:"Sunrise",dhuhr:"Dhuhr",asr:"Asr",sunset:"Sunset",maghrib:"Maghrib",isha:"Isha",midnight:"Midnight"},c={MWL:{name:"Muslim World League",params:{fajr:18,isha:17}},ISNA:{name:"Islamic Society of North America (ISNA)",params:{fajr:15,isha:15}},Egypt:{name:"Egyptian General Authority of Survey",params:{fajr:19.5,isha:17.5}},Makkah:{name:"Umm Al-Qura University, Makkah",params:{fajr:18.5,isha:"90 min"}},Karachi:{name:"University of Islamic Sciences, Karachi",params:{fajr:18,isha:18}},Tehran:{name:"Institute of Geophysics, University of Tehran",params:{fajr:17.7,isha:14,maghrib:4.5,midnight:"Jafari"}},Jafari:{name:"Shia Ithna-Ashari, Leva Institute, Qum",params:{fajr:16,isha:14,maghrib:4,midnight:"Jafari"}}},d={maghrib:"0 min",midnight:"Standard"},e="MWL",f={imsak:"10 min",dhuhr:"0 min",asr:"Standard",highLats:"NightMiddle"},g="24h",h=["am","pm"],i="-----",j=1,k={},q=d;for(var r in c){var s=c[r].params;for(var t in q)"undefined"==typeof s[t]&&(s[t]=q[t])}e=c[a]?a:e;var s=c[e].params;for(var u in s)f[u]=s[u];for(var r in b)k[r]=0;return{setMethod:function(a){c[a]&&(this.adjust(c[a].params),e=a)},adjust:function(a){for(var b in a)f[b]=a[b]},tune:function(a){for(var b in a)k[b]=a[b]},getMethod:function(){return e},getSetting:function(){return f},getOffsets:function(){return k},getDefaults:function(){return c},getTimes:function(a,b,c,d,e){return l=1*b[0],m=1*b[1],n=b[2]?1*b[2]:0,g=e||g,a.constructor===Date&&(a=[a.getFullYear(),a.getMonth()+1,a.getDate()]),"undefined"!=typeof c&&"auto"!=c||(c=this.getTimeZone(a)),"undefined"!=typeof d&&"auto"!=d||(d=this.getDst(a)),o=1*c+(1*d?1:0),p=this.julian(a[0],a[1],a[2])-m/360,this.computeTimes()},getFormattedTime:function(a,b,c){if(isNaN(a))return i;if("Float"==b)return a;c=c||h,a=DMath.fixHour(a+.5/60);var d=Math.floor(a),e=Math.floor(60*(a-d)),f="12h"==b?c[d<12?0:1]:"",g="24h"==b?this.twoDigitsFormat(d):(d+12-1)%12+1;return g+":"+this.twoDigitsFormat(e)+(f?" "+f:"")},midDay:function(a){var b=this.sunPosition(p+a).equation,c=DMath.fixHour(12-b);return c},sunAngleTime:function(a,b,c){var d=this.sunPosition(p+b).declination,e=this.midDay(b),f=1/15*DMath.arccos((-DMath.sin(a)-DMath.sin(d)*DMath.sin(l))/(DMath.cos(d)*DMath.cos(l)));return e+("ccw"==c?-f:f)},asrTime:function(a,b){var c=this.sunPosition(p+b).declination,d=-DMath.arccot(a+DMath.tan(Math.abs(l-c)));return this.sunAngleTime(d,b)},sunPosition:function(a){var b=a-2451545,c=DMath.fixAngle(357.529+.98560028*b),d=DMath.fixAngle(280.459+.98564736*b),e=DMath.fixAngle(d+1.915*DMath.sin(c)+.02*DMath.sin(2*c)),g=(1.00014-.01671*DMath.cos(c)-14e-5*DMath.cos(2*c),23.439-3.6e-7*b),h=DMath.arctan2(DMath.cos(g)*DMath.sin(e),DMath.cos(e))/15,i=d/15-DMath.fixHour(h),j=DMath.arcsin(DMath.sin(g)*DMath.sin(e));return{declination:j,equation:i}},julian:function(a,b,c){b<=2&&(a-=1,b+=12);var d=Math.floor(a/100),e=2-d+Math.floor(d/4),f=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(b+1))+c+e-1524.5;return f},computePrayerTimes:function(a){a=this.dayPortion(a);var b=f,c=this.sunAngleTime(this.eval(b.imsak),a.imsak,"ccw"),d=this.sunAngleTime(this.eval(b.fajr),a.fajr,"ccw"),e=this.sunAngleTime(this.riseSetAngle(),a.sunrise,"ccw"),g=this.midDay(a.dhuhr),h=this.asrTime(this.asrFactor(b.asr),a.asr),i=this.sunAngleTime(this.riseSetAngle(),a.sunset),j=this.sunAngleTime(this.eval(b.maghrib),a.maghrib),k=this.sunAngleTime(this.eval(b.isha),a.isha);return{imsak:c,fajr:d,sunrise:e,dhuhr:g,asr:h,sunset:i,maghrib:j,isha:k}},computeTimes:function(){for(var a={imsak:5,fajr:5,sunrise:6,dhuhr:12,asr:13,sunset:18,maghrib:18,isha:18},b=1;b<=j;b++)a=this.computePrayerTimes(a);return a=this.adjustTimes(a),a.midnight="Jafari"==f.midnight?a.sunset+this.timeDiff(a.sunset,a.fajr)/2:a.sunset+this.timeDiff(a.sunset,a.sunrise)/2,a=this.tuneTimes(a),this.modifyFormats(a)},adjustTimes:function(a){var b=f;for(var c in a)a[c]+=o-m/15;return"None"!=b.highLats&&(a=this.adjustHighLats(a)),this.isMin(b.imsak)&&(a.imsak=a.fajr-this.eval(b.imsak)/60),this.isMin(b.maghrib)&&(a.maghrib=a.sunset+this.eval(b.maghrib)/60),this.isMin(b.isha)&&(a.isha=a.maghrib+this.eval(b.isha)/60),a.dhuhr+=this.eval(b.dhuhr)/60,a},asrFactor:function(a){var b={Standard:1,Hanafi:2}[a];return b||this.eval(a)},riseSetAngle:function(){var a=.0347*Math.sqrt(n);return.833+a},tuneTimes:function(a){for(var b in a)a[b]+=k[b]/60;return a},modifyFormats:function(a){for(var b in a)a[b]=this.getFormattedTime(a[b],g);return a},adjustHighLats:function(a){var b=f,c=this.timeDiff(a.sunset,a.sunrise);return a.imsak=this.adjustHLTime(a.imsak,a.sunrise,this.eval(b.imsak),c,"ccw"),a.fajr=this.adjustHLTime(a.fajr,a.sunrise,this.eval(b.fajr),c,"ccw"),a.isha=this.adjustHLTime(a.isha,a.sunset,this.eval(b.isha),c),a.maghrib=this.adjustHLTime(a.maghrib,a.sunset,this.eval(b.maghrib),c),a},adjustHLTime:function(a,b,c,d,e){var f=this.nightPortion(c,d),g="ccw"==e?this.timeDiff(a,b):this.timeDiff(b,a);return(isNaN(a)||g>f)&&(a=b+("ccw"==e?-f:f)),a},nightPortion:function(a,b){var c=f.highLats,d=.5;return"AngleBased"==c&&(d=1/60*a),"OneSeventh"==c&&(d=1/7),d*b},dayPortion:function(a){for(var b in a)a[b]/=24;return a},getTimeZone:function(a){var b=a[0],c=this.gmtOffset([b,0,1]),d=this.gmtOffset([b,6,1]);return Math.min(c,d)},getDst:function(a){return 1*(this.gmtOffset(a)!=this.getTimeZone(a))},gmtOffset:function(a){var b=new Date(a[0],a[1]-1,a[2],12,0,0,0),c=b.toGMTString(),d=new Date(c.substring(0,c.lastIndexOf(" ")-1)),e=(b-d)/36e5;return e},eval:function(a){return 1*(a+"").split(/[^0-9.+-]/)[0]},isMin:function(a){return(a+"").indexOf("min")!=-1},timeDiff:function(a,b){return DMath.fixHour(b-a)},twoDigitsFormat:function(a){return a<10?"0"+a:a}}}var DMath={dtr:function(a){return a*Math.PI/180},rtd:function(a){return 180*a/Math.PI},sin:function(a){return Math.sin(this.dtr(a))},cos:function(a){return Math.cos(this.dtr(a))},tan:function(a){return Math.tan(this.dtr(a))},arcsin:function(a){return this.rtd(Math.asin(a))},arccos:function(a){return this.rtd(Math.acos(a))},arctan:function(a){return this.rtd(Math.atan(a))},arccot:function(a){return this.rtd(Math.atan(1/a))},arctan2:function(a,b){return this.rtd(Math.atan2(a,b))},fixAngle:function(a){return this.fix(a,360)},fixHour:function(a){return this.fix(a,24)},fix:function(a,b){return a-=b*Math.floor(a/b),a<0?a+b:a}},prayTimes=new PrayTimes;